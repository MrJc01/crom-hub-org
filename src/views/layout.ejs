<!DOCTYPE html>
<html lang="pt-BR" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title><%= title || organization.name %></title>
    <meta
      name="description"
      content="<%= organization.description || 'TransparÃªncia financeira e governanÃ§a para projetos Open Source' %>"
    />

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              primary: '<%= organization.primary_color || "#6366f1" %>',
              "primary-dark": "#4f46e5",
            },
          },
        },
      };
    </script>

    <!-- HTMX -->
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>

    <style>
      html {
        scroll-behavior: smooth;
      }
      .gradient-bg {
        background: linear-gradient(
          135deg,
          #1e1b4b 0%,
          #0f172a 50%,
          #1e1b4b 100%
        );
      }
      .glass {
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(10px);
      }
      .light .glass {
        background: rgba(0, 0, 0, 0.03);
      }
      .animate-float {
        animation: float 6s ease-in-out infinite;
      }
      @keyframes float {
        0%,
        100% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-20px);
        }
      }
      .htmx-request {
        opacity: 0.7;
      }
    </style>
  </head>
  <body
    class="bg-slate-900 text-white dark:bg-slate-900 dark:text-white transition-colors"
  >
    <!-- Navigation -->
    <nav
      class="fixed top-0 left-0 right-0 z-50 glass border-b border-white/10 dark:border-white/10"
    >
      <div
        class="max-w-7xl mx-auto px-6 py-4 flex items-center justify-between"
      >
        <a href="/" class="flex items-center gap-3">
          <div
            class="w-10 h-10 rounded-xl bg-gradient-to-br from-primary to-purple-600 flex items-center justify-center font-bold text-lg"
          >
            H
          </div>
          <span class="font-bold text-xl"><%= organization.name %></span>
        </a>
        <div class="hidden md:flex items-center gap-8 text-sm">
          <a href="#sobre" class="text-gray-300 hover:text-white transition"
            >Sobre</a
          >
          <a href="/updates" class="text-gray-300 hover:text-white transition"
            >Updates</a
          >
          <a href="/voting" class="text-gray-300 hover:text-white transition"
            >VotaÃ§Ãµes</a
          >
          <a href="#doar" class="text-gray-300 hover:text-white transition"
            >Doar</a
          >
          <a href="/status" class="text-gray-300 hover:text-white transition"
            >Status</a
          >
        </div>
        <div class="flex items-center gap-4">
          <!-- Theme Toggle -->
          <button
            onclick="toggleTheme()"
            class="p-2 rounded-lg bg-white/5 hover:bg-white/10 transition"
            title="Alternar tema"
          >
            <span id="theme-icon">ðŸŒ™</span>
          </button>
          <a
            href="#doar"
            class="px-4 py-2 bg-primary hover:bg-primary-dark rounded-lg font-medium transition"
          >
            Doar Agora
          </a>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <%- body %>

    <!-- Footer -->
    <footer class="border-t border-white/10 bg-slate-900/50">
      <div class="max-w-7xl mx-auto px-6 py-12">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div class="col-span-2">
            <div class="flex items-center gap-3 mb-4">
              <div
                class="w-10 h-10 rounded-xl bg-gradient-to-br from-primary to-purple-600 flex items-center justify-center font-bold"
              >
                H
              </div>
              <span class="font-bold text-xl"><%= organization.name %></span>
            </div>
            <p class="text-gray-400 max-w-md">
              <%= organization.description %>
            </p>
          </div>
          <div>
            <h4 class="font-semibold mb-4">Links</h4>
            <ul class="space-y-2 text-gray-400">
              <li>
                <a href="#sobre" class="hover:text-white transition">Sobre</a>
              </li>
              <li>
                <a href="/updates" class="hover:text-white transition"
                  >Updates</a
                >
              </li>
              <li>
                <a href="/voting" class="hover:text-white transition"
                  >VotaÃ§Ãµes</a
                >
              </li>
              <li>
                <a href="/status" class="hover:text-white transition"
                  >Audit Log</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="font-semibold mb-4">Projeto</h4>
            <ul class="space-y-2 text-gray-400">
              <li>
                <a
                  href="https://github.com/hub-org"
                  class="hover:text-white transition"
                  >GitHub</a
                >
              </li>
              <li>
                <a href="/docs" class="hover:text-white transition"
                  >DocumentaÃ§Ã£o</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="border-t border-white/10 mt-8 pt-8 text-center text-gray-500 text-sm"
        >
          <p>
            Â© 2024 <%= organization.name %>. Powered by
            <a
              href="https://github.com/hub-org"
              class="text-primary hover:underline"
              >Hub.org</a
            >
          </p>
        </div>
      </div>
    </footer>

    <script>
      // Theme management
      function getTheme() {
        return localStorage.getItem("theme") || "dark";
      }

      function setTheme(theme) {
        localStorage.setItem("theme", theme);
        if (theme === "dark") {
          document.documentElement.classList.add("dark");
          document.documentElement.classList.remove("light");
          document.getElementById("theme-icon").textContent = "ðŸŒ™";
        } else {
          document.documentElement.classList.remove("dark");
          document.documentElement.classList.add("light");
          document.getElementById("theme-icon").textContent = "â˜€ï¸";
        }
      }

      function toggleTheme() {
        setTheme(getTheme() === "dark" ? "light" : "dark");
      }

      // Initialize theme
      setTheme(getTheme());

      // HTMX animation
      document.body.addEventListener("htmx:afterSwap", function (evt) {
        evt.detail.target.classList.add("animate-pulse");
        setTimeout(
          () => evt.detail.target.classList.remove("animate-pulse"),
          500
        );
      });
    </script>
  </body>
</html>
