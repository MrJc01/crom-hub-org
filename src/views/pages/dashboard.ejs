<!-- Financial Summary Cards -->
<section class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
  <!-- Balance Card -->
  <div class="bg-gray-800 rounded-xl p-6 border border-gray-700">
    <div class="flex items-center justify-between mb-2">
      <span class="text-gray-400 text-sm">Saldo Atual</span>
      <span class="text-2xl">ðŸ’°</span>
    </div>
    <p class="text-3xl font-bold text-white">
      <%= currency %> <%= balance.toLocaleString('pt-BR', {
      minimumFractionDigits: 2 }) %>
    </p>
    <p class="text-xs text-gray-500 mt-1">DisponÃ­vel para uso</p>
  </div>

  <!-- Total In Card -->
  <div class="bg-gray-800 rounded-xl p-6 border border-gray-700">
    <div class="flex items-center justify-between mb-2">
      <span class="text-gray-400 text-sm">Total Arrecadado</span>
      <span class="text-2xl">ðŸ“¥</span>
    </div>
    <p class="text-3xl font-bold text-green-400">
      +<%= currency %> <%= totalIn.toLocaleString('pt-BR', {
      minimumFractionDigits: 2 }) %>
    </p>
    <p class="text-xs text-gray-500 mt-1">
      <%= donationCount %> doaÃ§Ãµes recebidas
    </p>
  </div>

  <!-- Total Out Card -->
  <div class="bg-gray-800 rounded-xl p-6 border border-gray-700">
    <div class="flex items-center justify-between mb-2">
      <span class="text-gray-400 text-sm">Total Gasto</span>
      <span class="text-2xl">ðŸ“¤</span>
    </div>
    <p class="text-3xl font-bold text-red-400">
      -<%= currency %> <%= totalOut.toLocaleString('pt-BR', {
      minimumFractionDigits: 2 }) %>
    </p>
    <p class="text-xs text-gray-500 mt-1">
      <%= expenseCount %> gastos registrados
    </p>
  </div>
</section>

<% if (goal) { %>
<!-- Goal Progress -->
<section class="bg-gray-800 rounded-xl p-6 border border-gray-700 mb-8">
  <div class="flex items-center justify-between mb-4">
    <div>
      <h2 class="text-lg font-semibold">ðŸŽ¯ Meta Atual</h2>
      <p class="text-sm text-gray-400">
        <%= goal.description || 'Meta de arrecadaÃ§Ã£o' %>
      </p>
    </div>
    <div class="text-right">
      <p class="text-2xl font-bold"><%= goal.percentage.toFixed(0) %>%</p>
      <p class="text-xs text-gray-400">
        <%= currency %> <%= goal.current.toLocaleString('pt-BR', {
        minimumFractionDigits: 2 }) %> de <%= currency %> <%=
        goal.target.toLocaleString('pt-BR', { minimumFractionDigits: 2 }) %>
      </p>
    </div>
  </div>
  <div class="w-full bg-gray-700 rounded-full h-4 overflow-hidden">
    <div
      class="h-full rounded-full bg-gradient-to-r from-primary to-purple-500 transition-all duration-500"
      style="width: <%= Math.min(goal.percentage, 100) %>%"
    ></div>
  </div>
</section>
<% } %>

<!-- Donation Section & Transactions -->
<div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
  <!-- Donation Form -->
  <section class="lg:col-span-1">
    <div
      class="bg-gray-800 rounded-xl p-6 border border-gray-700 sticky top-24"
    >
      <h2 class="text-lg font-semibold mb-4">ðŸ’– Fazer DoaÃ§Ã£o</h2>

      <div id="donation-form"><%- include('../partials/donation-form') %></div>
    </div>
  </section>

  <!-- Transactions List -->
  <section class="lg:col-span-2">
    <div class="flex items-center justify-between mb-4">
      <h2 class="text-lg font-semibold">ðŸ“Š TransaÃ§Ãµes Recentes</h2>
      <a href="/transparency" class="text-sm text-primary hover:underline"
        >Ver todas â†’</a
      >
    </div>

    <div id="transactions-list">
      <%- include('../partials/transactions-list', { transactions }) %>
    </div>
  </section>
</div>
