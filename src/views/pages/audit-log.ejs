<!-- Audit Log Page -->
<div class="mb-8">
  <h1 class="text-2xl font-bold mb-2">ğŸ“‹ Log de TransparÃªncia</h1>
  <p class="text-gray-400">
    Todas as aÃ§Ãµes administrativas sÃ£o registradas publicamente.
  </p>
</div>

<!-- System Status -->
<section class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
  <div class="bg-gray-800 rounded-xl p-4 border border-gray-700">
    <div class="flex items-center gap-2 mb-1">
      <span class="w-2 h-2 rounded-full bg-green-400 animate-pulse"></span>
      <span class="text-sm text-gray-400">Status</span>
    </div>
    <p class="text-lg font-semibold text-white">
      <%= status.database.status === 'healthy' ? 'Online' : 'Offline' %>
    </p>
  </div>
  <div class="bg-gray-800 rounded-xl p-4 border border-gray-700">
    <div class="text-sm text-gray-400 mb-1">VersÃ£o</div>
    <p class="text-lg font-semibold text-white"><%= status.version %></p>
  </div>
  <div class="bg-gray-800 rounded-xl p-4 border border-gray-700">
    <div class="text-sm text-gray-400 mb-1">Ambiente</div>
    <p class="text-lg font-semibold text-white"><%= status.environment %></p>
  </div>
</section>

<!-- Audit Logs -->
<section>
  <h2 class="text-lg font-semibold mb-4">AÃ§Ãµes de Administradores</h2>

  <% if (logs.length === 0) { %>
  <div class="bg-gray-800 rounded-xl p-8 border border-gray-700 text-center">
    <p class="text-gray-400">Nenhuma aÃ§Ã£o registrada ainda.</p>
    <p class="text-sm text-gray-500 mt-1">O sistema estÃ¡ limpo ğŸŒŸ</p>
  </div>
  <% } else { %>
  <div class="space-y-3">
    <% logs.forEach(log => { %>
    <div class="bg-gray-800 rounded-lg p-4 border border-gray-700">
      <div class="flex items-start justify-between">
        <div class="flex items-center gap-3">
          <!-- Action Icon -->
          <div
            class="w-10 h-10 rounded-full bg-yellow-900/50 flex items-center justify-center"
          >
            <% if (log.action === 'BAN_USER') { %> ğŸš« <% } else if (log.action
            === 'UNBAN_USER') { %> âœ… <% } else if (log.action ===
            'CREATE_EXPENSE') { %> ğŸ’¸ <% } else if (log.action ===
            'CHANGE_SETTINGS') { %> âš™ï¸ <% } else { %> ğŸ“ <% } %>
          </div>

          <div>
            <div class="flex items-center gap-2">
              <span class="font-medium text-white"
                ><%= log.action.replace(/_/g, ' ') %></span
              >
            </div>
            <p class="text-sm text-gray-400">
              por <span class="text-primary"><%= log.adminHandle %></span> <% if
              (log.target) { %> em
              <span class="text-gray-300"><%= log.target %></span>
              <% } %>
            </p>
            <% if (log.details) { %>
            <p class="text-xs text-gray-500 mt-1 font-mono">
              <%= JSON.stringify(log.details) %>
            </p>
            <% } %>
          </div>
        </div>

        <div class="text-right text-sm text-gray-500">
          <%= new Date(log.timestamp).toLocaleDateString('pt-BR', { day:
          '2-digit', month: 'short', year: 'numeric', hour: '2-digit', minute:
          '2-digit' }) %>
        </div>
      </div>
    </div>
    <% }) %>
  </div>
  <% } %>
</section>
